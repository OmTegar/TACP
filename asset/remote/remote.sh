#!/bin/bash

clear
banner="#####################################################################
                                                                
  8888888 8888888888   .8.           ,o888888o.    8 888888888o   
        8 8888        .888.         8888      88.  8 8888     88. 
        8 8888       :88888.     ,8 8888        8. 8 8888      88 
        8 8888      .  88888.    88 8888           8 8888      88 
        8 8888     .8.  88888.   88 8888           8 8888.   ,88  
        8 8888    .8 8.  88888.  88 8888           8 888888888P'  
        8 8888   .8'  8.  88888. 88 8888           8 8888         
        8 8888  .8'    8.  88888. 8 8888       .8  8 8888         
        8 8888 .888888888.  88888.  8888     ,88'  8 8888         
        8 8888.8'        8.  88888.   8888888P'    8 8888         
                                                                  
#####################################################################"
echo "$banner"
sleep 2

rsa="
 _____ _   _ ______ _   _ _____  ______  _____  ___  
|_   _| \ | || ___ \ | | |_   _| | ___ \/  ___|/ _ \ 
  | | |  \| || |_/ / | | | | |   | |_/ /\  --./ /_\ \
  | | | .   ||  __/| | | | | |   |    /   --. \  _  |
 _| |_| |\  || |   | |_| | | |   | |\ \ /\__/ / | | |
 \___/\_| \_/\_|    \___/  \_/   \_| \_|\____/\_| |_/
                                                     
                                                     
____________ _____ _   _  ___ _____ _____            
| ___ \ ___ \_   _| | | |/ _ \_   _|  ___|           
| |_/ / |_/ / | | | | | / /_\ \| | | |__             
|  __/|    /  | | | | | |  _  || | |  __|            
| |   | |\ \ _| |_\ \_/ / | | || | | |___            
\_|   \_| \_|\___/ \___/\_| |_/\_/ \____/            
                                                     
                                                     
 _   __ _______   __    ___   _   _______  ___       
| | / /|  ___\ \ / /   / _ \ | \ | |  _  \/ _ \      
| |/ / | |__  \ V /   / /_\ \|  \| | | | / /_\ \     
|    \ |  __|  \ /    |  _  || .   | | | |  _  |     
| |\  \| |___  | |    | | | || |\  | |/ /| | | |     
\_| \_/\____/  \_/    \_| |_/\_| \_/___/ \_| |_/                                                        
                                                                                                                                                                                                                    
"
echo "$rsa"
sleep 2

#menyimpan RSA pada directory (/)
cd / && nano labsuser.pem
chmod 400 labsuser.pem

#remote OS
echo "Masukkan IP Server Yang Akan Anda Remote :"
read ip

echo "Pilih OS Server Yang akan Di Remote"
pil=("Ubuntu" "Debian")
select pil in "${pil[@]}"; do
    case $pil in
    "Ubuntu")
        ssh -i labsuser.pem ubuntu@$ip <<EOF
sudo su
cd /
git clone https://github.com/OmTegar/Fiture-OmTegar.git
cd /Fiture-OmTegar
chmod +x index.sh
banner="#####################################################################################################################
            _____        ______  _______  _________________     ______        _____          ____       _____       
       ____|\    \      |      \/       \/                 \___|\     \   ___|\    \    ____|\   \  ___|\    \      
      /     /\    \    /          /\     \______     ______/     \     \ /    /\    \  /    /\    \|    |\    \     
     /     /  \    \  /     /\   / /\     | \( /    /  )/  |     ,_____/|    |  |____||    |  |    |    | |    |    
    |     |    |    |/     /\ \_/ / /    /|  ' |   |   '   |     \--'\_|/    |    ____|    |__|    |    |/____/     
    |     |    |    |     |  \|_|/ /    / |    |   |       |     /___/| |    |   |    |    .--.    |    |\    \     
    |\     \  /    /|     |       |    |  |   /   //       |     \____|\|    |   |_,  |    |  |    |    | |    |    
    | \_____\/____/ |\____\       |____|  /  /___//        |____ '     /|\ ___\___/  /|____|  |____|____| |____|    
     \ |    ||    | / |    |      |    | /   |   |         |    /_____/ | |   /____ / |    |  |    |    | |    |    
      \|____||____|/ \|____|      |____|/    |___|         |____|     | /\|___|    | /|____|  |____|____| |____|    
         \(    )/       \(          )/        \(             \( |_____|/   \( |____|/   \(      )/   \(     )/      
          '    '         '          '          '              '    )/       '   )/       '      '     '     '       
                                                                   '            '   Fiture All Repository !!!       
#####################################################################################################################"
echo "$banner"
echo ""
echo "Anda Sudah Berada di Remote Server Yang Anda Inginkan"
EOF
        ssh -i labsuser.pem ubuntu@$ip
        ;;
    "Debian")
        ssh -i labsuser.pem admin@$ip <<EOF
sudo su
apt-get update 
apt install git -y
cd /
git clone https://github.com/OmTegar/Fiture-OmTegar.git
cd /Fiture-OmTegar
chmod +x index.sh
banner="#####################################################################################################################
            _____        ______  _______  _________________     ______        _____          ____       _____       
       ____|\    \      |      \/       \/                 \___|\     \   ___|\    \    ____|\   \  ___|\    \      
      /     /\    \    /          /\     \______     ______/     \     \ /    /\    \  /    /\    \|    |\    \     
     /     /  \    \  /     /\   / /\     | \( /    /  )/  |     ,_____/|    |  |____||    |  |    |    | |    |    
    |     |    |    |/     /\ \_/ / /    /|  ' |   |   '   |     \--'\_|/    |    ____|    |__|    |    |/____/     
    |     |    |    |     |  \|_|/ /    / |    |   |       |     /___/| |    |   |    |    .--.    |    |\    \     
    |\     \  /    /|     |       |    |  |   /   //       |     \____|\|    |   |_,  |    |  |    |    | |    |    
    | \_____\/____/ |\____\       |____|  /  /___//        |____ '     /|\ ___\___/  /|____|  |____|____| |____|    
     \ |    ||    | / |    |      |    | /   |   |         |    /_____/ | |   /____ / |    |  |    |    | |    |    
      \|____||____|/ \|____|      |____|/    |___|         |____|     | /\|___|    | /|____|  |____|____| |____|    
         \(    )/       \(          )/        \(             \( |_____|/   \( |____|/   \(      )/   \(     )/      
          '    '         '          '          '              '    )/       '   )/       '      '     '     '       
                                                                   '            '   Fiture All Repository !!!       
#####################################################################################################################"
echo "$banner"
echo ""
echo "Anda Sudah Berada di Remote Server Yang Anda Inginkan"
EOF
        ssh -i labsuser.pem admin@$ip
        break
        ;;
    esac
done
